<!DOCTYPE html>
<html ng-app="demoApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ng1bs5 Demo - All Templates with ng-template</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="ng1bs5.css" rel="stylesheet">
  
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="module.js"></script>
  <script src="loading-overlay.service.js"></script>
  <script src="loading-overlay.directive.js"></script>
  
  <style>
    .demo-panel {
      min-height: 200px;
      padding: 20px;
      border: 2px solid #dee2e6;
      border-radius: 8px;
      background-color: #f8f9fa;
      margin-top: 15px;
    }
  </style>
</head>
<body ng-controller="DemoCtrl">
  
  <!-- ==================== TEMPLATES ==================== -->
  
  <!-- Default Spinner (Light) -->
  <script type="text/ng-template" id="defaultTemplate.html">
    <div class="bs-loading-overlay bs-loading-overlay-light" style="
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      background-color: rgba(255, 255, 255, 0.9) !important;
      z-index: 99999 !important;
      pointer-events: auto !important;
    ">
      <div class="spinner-border" 
           role="status"
           ng-class="options.spinnerClass || 'text-primary'"
           ng-style="options.spinnerStyle || { width: '3rem', height: '3rem' }">
        <span class="visually-hidden">{{ options.loadingText || 'Loading...' }}</span>
      </div>
    </div>
  </script>
  
  <!-- Grow Spinner (Dark) -->
  <script type="text/ng-template" id="growSpinner.html">
    <div class="bs-loading-overlay bs-loading-overlay-dark" style="
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      background-color: rgba(0, 0, 0, 0.7) !important;
      z-index: 99999 !important;
      pointer-events: auto !important;
    ">
      <div class="text-center">
        <div class="spinner-grow" 
             role="status"
             ng-class="options.spinnerClass || 'text-light'"
             ng-style="options.spinnerStyle || { width: '3rem', height: '3rem' }">
          <span class="visually-hidden">{{ options.loadingText || 'Loading...' }}</span>
        </div>
        <div ng-if="options.showText" class="mt-2 text-light">
          {{ options.loadingText || 'Loading...' }}
        </div>
      </div>
    </div>
  </script>
  
  <!-- Large Spinner with Text -->
  <script type="text/ng-template" id="largeSpinner.html">
    <div class="bs-loading-overlay bs-loading-overlay-light" style="
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      background-color: rgba(255, 255, 255, 0.95) !important;
      z-index: 99999 !important;
      pointer-events: auto !important;
    ">
      <div class="text-center">
        <div class="spinner-border" 
             role="status"
             ng-class="options.spinnerClass || 'text-primary'"
             ng-style="options.spinnerStyle || { width: '4rem', height: '4rem' }">
          <span class="visually-hidden">{{ options.loadingText || 'Loading...' }}</span>
        </div>
        <div class="mt-3 fw-bold" ng-class="options.textClass || 'text-primary'">
          {{ options.loadingText || 'Loading...' }}
        </div>
      </div>
    </div>
  </script>
  
  <!-- Multiple Spinners -->
  <script type="text/ng-template" id="multiSpinner.html">
    <div class="bs-loading-overlay bs-loading-overlay-light" style="
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      background-color: rgba(255, 255, 255, 0.95) !important;
      z-index: 99999 !important;
      pointer-events: auto !important;
    ">
      <div class="d-flex gap-3">
        <div class="spinner-border text-primary" role="status" style="width: 2rem; height: 2rem;">
          <span class="visually-hidden">Loading...</span>
        </div>
        <div class="spinner-border text-success" role="status" style="width: 2rem; height: 2rem;">
          <span class="visually-hidden">Loading...</span>
        </div>
        <div class="spinner-border text-danger" role="status" style="width: 2rem; height: 2rem;">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
  </script>
  
  <!-- ==================== PAGE CONTENT ==================== -->
  
  <div class="container mt-5">
    <h1 class="mb-4">ng1bs5 Complete Demo</h1>
    <p class="lead">All spinner templates using <code>&lt;script type="text/ng-template"&gt;</code></p>
    
    <!-- Example 1: Default Spinner -->
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">
        <h3>1. Default Spinner (Light Background)</h3>
      </div>
      <div class="card-body">
        <button class="btn btn-primary" ng-click="demo1()">Show Default Spinner</button>
        
        <div class="demo-panel" 
             bs-loading-overlay="panel1"
             bs-loading-overlay-template-url="defaultTemplate.html">
          <h5>Panel 1</h5>
          <p>This uses the default template: <code>defaultTemplate.html</code></p>
          <p class="small text-muted">Light background with primary spinner</p>
        </div>
      </div>
    </div>
    
    <!-- Example 2: Grow Spinner -->
    <div class="card mb-4">
      <div class="card-header bg-dark text-white">
        <h3>2. Grow Spinner (Dark Background)</h3>
      </div>
      <div class="card-body">
        <button class="btn btn-dark" ng-click="demo2()">Show Grow Spinner</button>
        
        <div class="demo-panel" 
             bs-loading-overlay="panel2"
             bs-loading-overlay-template-url="growSpinner.html">
          <h5>Panel 2</h5>
          <p>This uses: <code>growSpinner.html</code></p>
          <p class="small text-muted">Dark background with grow animation</p>
        </div>
      </div>
    </div>
    
    <!-- Example 3: Large Spinner with Text -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h3>3. Large Spinner with Text</h3>
      </div>
      <div class="card-body">
        <button class="btn btn-success" ng-click="demo3()">Show Large Spinner</button>
        
        <div class="demo-panel" 
             bs-loading-overlay="panel3"
             bs-loading-overlay-template-url="largeSpinner.html"
             bs-loading-overlay-template-options="{ loadingText: 'Please wait...', spinnerClass: 'text-success' }">
          <h5>Panel 3</h5>
          <p>This uses: <code>largeSpinner.html</code></p>
          <p class="small text-muted">Large spinner with custom text</p>
        </div>
      </div>
    </div>
    
    <!-- Example 4: Multiple Spinners -->
    <div class="card mb-4">
      <div class="card-header bg-info text-white">
        <h3>4. Multiple Spinners</h3>
      </div>
      <div class="card-body">
        <button class="btn btn-info" ng-click="demo4()">Show Multi Spinner</button>
        
        <div class="demo-panel" 
             bs-loading-overlay="panel4"
             bs-loading-overlay-template-url="multiSpinner.html">
          <h5>Panel 4</h5>
          <p>This uses: <code>multiSpinner.html</code></p>
          <p class="small text-muted">Three colored spinners</p>
        </div>
      </div>
    </div>
    
    <!-- Example 5: Global Configuration -->
    <div class="card mb-4">
      <div class="card-header bg-warning text-dark">
        <h3>5. Using Global Configuration</h3>
      </div>
      <div class="card-body">
        <p>This panel uses the global template configured in the run block.</p>
        <button class="btn btn-warning" ng-click="demo5()">Show Global Template</button>
        
        <div class="demo-panel" bs-loading-overlay="panel5">
          <h5>Panel 5</h5>
          <p>No template specified - uses global config</p>
          <p class="small text-muted">Configured to use <code>defaultTemplate.html</code></p>
        </div>
      </div>
    </div>
    
    <!-- Code Example -->
    <div class="card mb-4">
      <div class="card-header bg-secondary text-white">
        <h3>üìù Complete Code Example</h3>
      </div>
      <div class="card-body">
        <h5>1. Include templates in your HTML:</h5>
        <pre class="bg-dark text-light p-3">&lt;script type="text/ng-template" id="defaultTemplate.html"&gt;
  &lt;div class="bs-loading-overlay" style="..."&gt;
    &lt;div class="spinner-border"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/script&gt;</pre>
        
        <h5 class="mt-3">2. Configure global template:</h5>
        <pre class="bg-dark text-light p-3">angular.module('myApp', ['ng1bs5'])
  .run(function(LoadingOverlayService) {
    LoadingOverlayService.setGlobalConfig({
      templateUrl: 'defaultTemplate.html'
    });
  });</pre>
        
        <h5 class="mt-3">3. Use with directive:</h5>
        <pre class="bg-dark text-light p-3">&lt;!-- Use global template --&gt;
&lt;div bs-loading-overlay="panel1"&gt;&lt;/div&gt;

&lt;!-- Override with specific template --&gt;
&lt;div bs-loading-overlay="panel2" 
     bs-loading-overlay-template-url="growSpinner.html"&gt;
&lt;/div&gt;</pre>
        
        <h5 class="mt-3">4. Control from JavaScript:</h5>
        <pre class="bg-dark text-light p-3">LoadingOverlayService.start({ referenceId: 'panel1' });
LoadingOverlayService.stop({ referenceId: 'panel1' });</pre>
      </div>
    </div>
    
    <div class="alert alert-success">
      <h5>‚úÖ Advantages of ng-template:</h5>
      <ul class="mb-0">
        <li>No separate <code>default-templates.js</code> file needed</li>
        <li>Templates are HTML, not JavaScript strings</li>
        <li>Easier to edit and customize</li>
        <li>Can be included via ng-include</li>
        <li>Uses Angular's template cache</li>
        <li>Better IDE support and syntax highlighting</li>
      </ul>
    </div>
  </div>
  
  <script>
    angular.module('demoApp', ['ng1bs5'])
      .run(function(LoadingOverlayService) {
        // Set global default template
        LoadingOverlayService.setGlobalConfig({
          templateUrl: 'defaultTemplate.html'
        });
      })
      .controller('DemoCtrl', function($scope, $timeout, LoadingOverlayService) {
        
        $scope.demo1 = function() {
          LoadingOverlayService.wrap(
            { referenceId: 'panel1' },
            $timeout(angular.noop, 2000)
          );
        };
        
        $scope.demo2 = function() {
          LoadingOverlayService.wrap(
            { referenceId: 'panel2' },
            $timeout(angular.noop, 2000)
          );
        };
        
        $scope.demo3 = function() {
          LoadingOverlayService.wrap(
            { referenceId: 'panel3' },
            $timeout(angular.noop, 2000)
          );
        };
        
        $scope.demo4 = function() {
          LoadingOverlayService.wrap(
            { referenceId: 'panel4' },
            $timeout(angular.noop, 2000)
          );
        };
        
        $scope.demo5 = function() {
          LoadingOverlayService.wrap(
            { referenceId: 'panel5' },
            $timeout(angular.noop, 2000)
          );
        };
      });
  </script>
</body>
</html>
